# Development Configuration
# This config is loaded when PYTHON_ENV=development

app:
  title: "Crawl4AI API (Dev)"
  version: "1.0.0-dev"
  host: "0.0.0.0"
  port: 11235
  reload: True        # Enable hot-reload
  workers: 1          # Single worker for easier debugging
  timeout_keep_alive: 300

# Default LLM Configuration
llm:
  provider: "openai/gpt-4o-mini"
  api_key_env: "OPENAI_API_KEY"
  # api_key: sk-...  # If you pass the API key directly then api_key_env will be ignored

# Redis Configuration
redis:
  host: "localhost"
  port: 6379
  db: 0
  password: ""
  ssl: False
  ssl_cert_reqs: None
  ssl_ca_certs: None
  ssl_certfile: None
  ssl_keyfile: None

# Rate Limiting Configuration
rate_limiting:
  enabled: False      # Disabled in dev for easier testing
  default_limit: "10000/minute"
  trusted_proxies: []
  storage_uri: "memory://"

# Security Configuration
security:
  enabled: false 
  jwt_enabled: false 
  https_redirect: false
  trusted_hosts: ["*"]
  headers:
    x_content_type_options: "nosniff"
    x_frame_options: "DENY"
    content_security_policy: "default-src 'self'"
    strict_transport_security: "max-age=63072000; includeSubDomains"

# Crawler Configuration
crawler:
  base_config:
    simulate_user: true
  memory_threshold_percent: 95.0
  rate_limiter:
    enabled: false    # Disabled in dev
    base_delay: [0.5, 1.0]  # Shorter delays for faster testing
  timeouts:
    stream_init: 30.0
    batch_process: 300.0
  pool:
    max_pages: 20     # Lower limit for dev environment
    idle_ttl_sec: 600 # 10 min (shorter than prod)
  browser:
    kwargs:
      headless: true
      text_mode: true
    extra_args:
      - "--no-sandbox"
      - "--disable-dev-shm-usage"
      - "--disable-gpu"
      - "--disable-software-rasterizer"
      - "--disable-web-security"
      - "--allow-insecure-localhost"
      - "--ignore-certificate-errors"

# Logging Configuration
logging:
  level: "DEBUG"      # More verbose logging for development
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Observability Configuration
observability:
  prometheus:
    enabled: True
    endpoint: "/metrics"
  health_check:
    endpoint: "/health"

